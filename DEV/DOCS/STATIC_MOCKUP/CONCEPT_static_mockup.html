<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Algorithm Visualization Static Mockup (Tailwind)</title>
    
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Alpine JS CDN -->
    <script defer src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js"></script>

    <style>
        /* Custom style retained for the specific hatched background effect */
        /* Using Tailwind colors (e.g., yellow-100 and yellow-50) for the pattern */
        .current-step-hatched {
            border: 2px solid rgb(239 68 68); /* red-500 */
            background-image: repeating-linear-gradient(
                45deg,
                #fefcbf, /* yellow-100 */
                #fefcbf 10px,
                #fef9c3 10px, /* slightly darker yellow */
                #fef9c3 20px
            );
        }

        /* Custom scrollbar styling (optional, but good for visual consistency) */
        .steps-list::-webkit-scrollbar {
            width: 10px;
        }
        .steps-list::-webkit-scrollbar-thumb {
            background: #cbd5e1; /* slate-300 */
            border-radius: 5px;
        }
    </style>
</head>

<body class="bg-gray-100 flex justify-center p-5 min-h-screen">

<div id="visualization-app" class="container w-[1000px] max-w-[95%] border-2 border-gray-800 bg-white p-4 shadow-2xl" x-data="{ showHints: false }">
    
    <!-- 
        ================================================================
        FRONT-END IMPLEMENTATION NOTES (CRITICAL UX FEATURES)
        ================================================================
        
        1. Step List Auto-Scroll:
           - When the current step (`#step-current`) changes, the `#panel-steps-list` container MUST automatically scroll to bring the new current step into full view. This prevents the user from having to manually track progress in long algorithms.
           
        2. Keyboard Navigation:
           - Implement global event listeners for the keyboard shortcuts defined in the Hints Modal (Right/Left Arrow, Space, R). This is essential for power users.
           
        3. Visualization State Management:
           - The array elements within `#visualization-array` must dynamically update their classes (colors, borders, scale) based on the current step's state (e.g., Pivot, i-pointer, j-pointer, Swapping).
           
        4. Performance:
           - Ensure state transitions (especially array element movement/swapping) are smooth and visually clear, ideally using CSS transitions or lightweight animation libraries.
		   
        5. **IMPORTANT** Use this document as a GUIDE for the design (layout, styles, UX flows), but do not copy its implementation, as it is only a static mockup. Implement your own solutions in React, focusing on dynamic components, state management, and performance optimizations.
           -->

    <!-- HEADER & CONTROLS -->
    <div class="flex justify-between items-start mb-4 border-b pb-3">
        <div class="algorithm-info">
            <h1 class="text-2xl font-bold text-indigo-700">Quick Sort Visualization</h1>
            <p id="info-step-title" class="text-sm mt-1 text-gray-600">Step 15 of 42 | Pivot Selection</p>
        </div>
        
        <div class="controls text-right" x-data="{ mode: 'Manual' }">
            <div class="text-xs mb-1 text-gray-500">Basic Controls</div>
            <div class="control-buttons flex space-x-2">
                
                <!-- Mode Button (Interactive) -->
                <button 
                    id="control-mode-toggle"
                    @click="mode = (mode === 'Manual' ? 'Auto' : 'Manual')"
                    class="px-3 py-1 border border-gray-400 bg-white text-sm hover:bg-gray-100 transition duration-150 shadow-sm"
                    x-text="mode"
                >
                    Mode
                </button>
                
                <button id="control-reset" class="px-3 py-1 border border-red-500 bg-red-50 text-sm text-red-700 hover:bg-red-100 transition duration-150 shadow-sm">
                    Reset
                </button>
                
                <button id="control-previous" class="px-3 py-1 border border-indigo-600 bg-indigo-50 text-sm text-indigo-700 hover:bg-indigo-100 transition duration-150 shadow-sm">
                    &laquo; Previous
                </button>
                
                <button id="control-next" class="px-3 py-1 border border-indigo-600 bg-indigo-600 text-sm text-white hover:bg-indigo-700 transition duration-150 shadow-md">
                    Next Step &triangleright;
                </button>
            </div>
        </div>
    </div>

    <!-- MAIN CONTENT AREA -->
    <div class="main-content flex gap-4 h-[600px]">
        
        <!-- LEFT PANEL: WORK AREA / VISUALIZATION -->
        <div id="panel-visualization" class="left-panel flex flex-col flex-[3] border border-gray-800 bg-gray-50">
            <div class="p-3 font-bold text-lg border-b border-gray-800 bg-gray-200">
                Work Area / Array Visualization
            </div>
            
            <!-- Visualization Area Content (Enhanced Mockup) -->
            <div class="flex-grow flex flex-col justify-center items-center p-5 bg-white shadow-inner">
                
                <div class="text-xl font-semibold text-gray-800 mb-6">Partitioning A[5...10]</div>
                
                <div id="visualization-array" class="flex space-x-1 items-end">
                    
                    <!-- Elements before i (already partitioned) -->
                    <div class="w-10 h-10 bg-gray-300 border border-gray-500 flex items-center justify-center text-sm font-bold opacity-70">...</div>
                    <div class="w-10 h-10 bg-gray-300 border border-gray-500 flex items-center justify-center text-sm font-bold opacity-70">33</div>
                    
                    <!-- Element at i (will be swapped out) -->
                    <div class="flex flex-col items-center relative">
                        <span class="text-xs text-indigo-600 font-bold absolute -top-6">i</span>
                        <div class="w-12 h-12 bg-red-100 border-2 border-red-600 flex items-center justify-center text-lg font-bold shadow-lg transition duration-300 transform scale-105">45</div>
                        <span class="text-xs mt-1 text-gray-500">6</span>
                    </div>
                    
                    <!-- Element at j (the small element found) -->
                    <div class="flex flex-col items-center relative">
                        <span class="text-xs text-green-600 font-bold absolute -top-6">j</span>
                        <div class="w-12 h-12 bg-green-100 border-2 border-green-600 flex items-center justify-center text-lg font-bold shadow-lg transition duration-300 transform scale-105">22</div>
                        <span class="text-xs mt-1 text-gray-500">7</span>
                    </div>

                    <!-- Elements between j and Pivot -->
                    <div class="w-12 h-12 bg-gray-200 border border-gray-400 flex items-center justify-center text-lg font-bold shadow-sm">91</div>
                    <div class="w-12 h-12 bg-gray-200 border border-gray-400 flex items-center justify-center text-lg font-bold shadow-sm">55</div>
                    <div class="w-12 h-12 bg-gray-200 border border-gray-400 flex items-center justify-center text-lg font-bold shadow-sm">10</div>
                    
                    <!-- Pivot -->
                    <div class="flex flex-col items-center relative ml-4">
                        <span class="text-xs text-purple-600 font-bold absolute -top-6">Pivot</span>
                        <div class="w-12 h-12 bg-purple-200 border-2 border-purple-600 flex items-center justify-center text-lg font-bold shadow-lg">78</div>
                        <span class="text-xs mt-1 text-gray-500">10</span>
                    </div>
                </div>
                
                <p id="visualization-action-message" class="text-lg text-red-600 mt-8 font-semibold animate-pulse">
                    &darr; SWAPPING A[6] (45) and A[7] (22) &darr;
                </p>
            </div>
            <!-- End Visualization Area Content -->
        </div>

        <!-- RIGHT PANEL: STEPS / DESCRIPTION -->
        <div class="right-panel flex flex-col flex-[1.5] border border-gray-800 bg-white">
            
            <div class="p-3 font-bold text-lg border-b border-gray-800 bg-gray-200">
                Steps / Call Stack
            </div>
            
            <!-- Steps List -->
            <div id="panel-steps-list" class="steps-list overflow-y-scroll p-3 max-h-[50%] relative">
                
                <!-- 
                    DEVELOPER NOTE: 
                    The element with ID 'step-current' must be scrolled into view 
                    (using element.scrollIntoView({ behavior: 'smooth', block: 'nearest' })) 
                    every time the step changes. This ensures the user always sees the current context.
                -->

                <!-- Example Steps -->
                <div class="border border-gray-300 p-3 mb-2 text-sm bg-white shadow-sm hover:shadow-md transition">
                    Partition (A[0...10]): Initial Call
                </div>
                <div class="border border-gray-300 p-3 mb-2 text-sm bg-white shadow-sm hover:shadow-md transition">
                    Pivot selected: A[10] = 78
                </div>
                <div class="border border-gray-300 p-3 mb-2 text-sm bg-white shadow-sm hover:shadow-md transition">
                    Partitioning loop: i=0, j=0
                </div>
                <div class="border border-gray-300 p-3 mb-2 text-sm bg-white shadow-sm hover:shadow-md transition">
                    Swap A[i] and A[j] (12 & 33)
                </div>
                <div class="border border-gray-300 p-3 mb-2 text-sm bg-white shadow-sm hover:shadow-md transition">
                    Partitioning loop: j=5, A[j] < Pivot
                </div>
                
                <!-- Current Step (Highlighted) -->
                <div id="step-current" class="p-3 mb-2 text-sm font-semibold current-step-hatched shadow-lg">
                    Swap A[i] and A[j] (45 & 22) -> i=6, j=7
                </div>
                
            </div>
            
            <!-- Current Step Description -->
            <div id="panel-step-description" class="p-4 border-t border-b border-gray-800 flex-grow relative bg-gray-50">
                <h3 class="text-lg font-semibold text-gray-800 mb-2">Detailed Action: Swapping Elements</h3>
                <p class="text-sm text-gray-700">
                    The element at index `j` (value 22) is smaller than the pivot (78). We increment the boundary pointer `i` (from 5 to 6) and swap A[i] (45) with A[j] (22) to move the smaller element into the lower partition.
                </p>
            </div>

            <!-- HINTS MODAL TRIGGER -->
            <div class="p-2 border-t border-gray-300 flex justify-between items-center bg-gray-100">
                <div class="text-xs text-gray-500">Application Help & Shortcuts</div>
                <button 
                    id="control-hints-trigger"
                    @click="showHints = true"
                    class="w-8 h-8 border-2 border-indigo-600 rounded-full text-center leading-7 text-lg font-bold cursor-pointer bg-indigo-50 text-indigo-700 hover:bg-indigo-100 transition shadow-md"
                    title="Application Help & Shortcuts"
                >
                    ?
                </button>
            </div>
            
        </div>
    </div>

    <!-- HINTS MODAL - Application Help Content -->
    <div 
        id="modal-hints"
        x-show="showHints" 
        x-transition:enter="transition ease-out duration-300"
        x-transition:enter-start="opacity-0 scale-90"
        x-transition:enter-end="opacity-100 scale-100"
        x-transition:leave="transition ease-in duration-200"
        x-transition:leave-start="opacity-100 scale-100"
        x-transition:leave-end="opacity-0 scale-90"
        class="fixed inset-0 bg-gray-900 bg-opacity-75 flex items-center justify-center z-50"
        style="display: none;"
    >
        <div class="bg-white p-6 rounded-lg shadow-2xl w-full max-w-md border border-gray-800 relative">
            <h2 class="text-xl font-bold mb-4 text-indigo-700">Application Help & Shortcuts</h2>
            
            <p class="text-gray-700 mb-4 font-semibold">Keyboard Shortcuts:</p>
            <ul class="list-disc list-inside text-sm text-gray-600 space-y-1 mb-4">
                <li><span class="font-mono bg-gray-100 px-1 rounded">Right Arrow (→)</span>: Next Step</li>
                <li><span class="font-mono bg-gray-100 px-1 rounded">Left Arrow (←)</span>: Previous Step</li>
                <li><span class="font-mono bg-gray-100 px-1 rounded">Spacebar</span>: Toggle Auto/Manual Mode</li>
                <li><span class="font-mono bg-gray-100 px-1 rounded">R</span>: Reset Algorithm</li>
            </ul>
            
            <p class="text-gray-700 text-sm">
                This visualization is currently in Manual mode. Use the controls or shortcuts above to navigate the algorithm step-by-step.
            </p>

            <button 
                @click="showHints = false"
                class="absolute top-3 right-3 text-gray-500 hover:text-gray-800 text-2xl font-semibold"
            >
                &times;
            </button>
            <button 
                @click="showHints = false"
                class="mt-4 w-full bg-indigo-600 text-white py-2 rounded hover:bg-indigo-700 transition"
            >
                Close
            </button>
        </div>
    </div>

</div>

</body>
</html>